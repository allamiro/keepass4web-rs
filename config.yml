##################################
### KeePass4Web related config ###
##################################

# where to get keepass database from
# use 'Filesystem' for a simple file in the local filesystem
db_backend: 'Filesystem'

# backend to authenticate users before anything else
# available: None, LDAP
# None is only useful in single-user environments
auth_backend: 'Test'

### Database backends ###

# file specific configuration, db_backend = 'Filesystem'
Filesystem:
    db_location: './db.kdbx'
    # optional, storing key files on the filesystem is not recommended
    # keyfile_location: '/opt/keepass4web/db.kdbx'

### Authentication backends ###

# ldap specific configuration, auth_backend = 'LDAP'
LDAP:
    uri:    'ldap://127.0.0.1:389'
    scope:  'subtree'
    base_dn: 'OU=People,DC=example,DC=org'
    filter: '(&(objectClass=inetOrgPerson)(memberOf=CN=keepass,OU=groups,DC=example,DC=org))'

    # (unique) ldap attribute for user login
    # Active Directory: sAMAccountName or userPrincipalName
    # openLDAP/389 Directory Server/etc: uid
    login_attribute: 'uid'

    # ldap bind DN and password, leave empty for anonymous bind
    bind:     'CN=ldap-read,OU=Special Users,DC=example,DC=org'
    password: ''

    # ldap attribute containing the keepass database or keyfile (per user), dependent on db backend
    # leave empty to use static db_location from above
    database_attribute: 'keePass'
    # key file location attribute
    keyfile_attribute:  'keePassKeyFile'


# time till database gets closed (user idle time)
# user will have to reenter database password/keyfile
db_session_timeout: '10 minutes'
# interval to watch for user auth_backend changes (to present proper login page, even when user is idling)
auth_check_interval: '1 hour 5 minutes'

search:
  # fields to search for matching entries
  fields:
    - title
    - username
    - tags
    - notes
    - url
  # whether to search in user supplied fields and file names
  extra_fields: true
  # whether regexes in the search pattern are interpreted
  allow_regex: false


# Secret key used for session cookies
# Must be at least 64 bytes long, obtained from a cryptographically secure source.
# Will be generated on the fly if not specified.
# Set a static key for sessions to survive server restarts.
# session_secret_key: ''

listen:  '::'
port:    8080
